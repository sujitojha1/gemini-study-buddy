<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gemini Flashcards Tutor</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <div class="app">
      <header class="hero">
        <h1>Gemini Flashcards Tutor</h1>
        <p class="tagline">Generate summaries, flashcards, and quizzes from any page.</p>
        <p class="hint hint-inline">Paste your Gemini API key below when you're ready to generate.</p>
      </header>

      <section class="section" id="keySection" aria-labelledby="apiKeyLabel">
        <label class="hint" id="apiKeyLabel" for="apiKeyInput">Your key stays on this device and isn't stored after you close the popup.</label>
        <div class="key-input">
          <input
            id="apiKeyInput"
            type="password"
            placeholder="Paste your Gemini API key"
            autocomplete="off"
            spellcheck="false"
            aria-describedby="apiKeyLabel"
          />
          <button id="apiKeyButton" class="compact" type="button">Load key</button>
        </div>
      </section>

      <section class="section" id="status" role="status"></section>

      <section class="actions section">
        <button id="summaryBtn" data-action="summary">Generate Summary</button>
        <button id="flashcardBtn" data-action="flashcards">Generate Flashcards</button>
        <button id="quizBtn" data-action="quiz">Generate Quiz</button>
      </section>

      <section class="section" id="contextSection" hidden>
        <h2>Context extracted from the page</h2>
        <pre id="contextPreview"></pre>
      </section>

      <section class="section" id="resultSection" hidden>
        <h2>Gemini output</h2>
        <div id="result"></div>
      </section>
    </div>

    <template id="loadingTemplate">
      <div class="spinner" aria-hidden="true"></div>
      <span>Asking Gemini...</span>
    </template>

    <script src="popup.js" type="module"></script>
  </body>
</html>
